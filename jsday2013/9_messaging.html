<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
        <link rel="stylesheet" type="text/css" href="css/custom.css">
        <script src="libs/jquery-2.0.0.js"></script>
        <script src="libs/bootstrap.js"></script>
        <script src="libs/knockout-2.2.1.js"></script>
    </head>
    <body>
    <div id="root" class="container">
        <div class="row">
            <div class="span6" id="list">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Surname</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: items">
                        <tr>
                            <td><a href="#" data-bind="text: name, click: $parent.select"></a></td>
                            <td data-bind="text: surname"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="span6" id="detail">
                <input type="text" data-bind="value: name">
            </div>
        </div>
      
    </div>
        
    </body>
    <script type="text/javascript">
        var postbox = new ko.subscribable();
        
        function DetailViewModel(id, name, surname) {
            var self = this;
            self.id = ko.observable(id);
            self.name = ko.observable(name);
            self.surname = ko.observable(surname);
            self.save = function(){
                console.log('saving item...');
            }
        };
        
        function ListViewModel(items){
            var self = this;
            self.items = ko.observableArray(items);
            self.select = function(current){
                postbox.notifySubscribers(current, 'itemSelected');
            }
        }
        
        var list = new ListViewModel([
            new DetailViewModel(1, 'Guybrush', 'Threepwood'),
            new DetailViewModel(2, 'Elaine', 'Marley'),
            new DetailViewModel(2, 'Pirate', 'LeChuck')
        ]);
                                
        var detail = new DetailViewModel();
        
        postbox.subscribe(function(item) {
            
        }, detail, 'itemSelected');
            
        ko.applyBindings(list, $('#list')[0]);
        ko.applyBindings(detail, $('#detail')[0]);
    
    </script>
</html>